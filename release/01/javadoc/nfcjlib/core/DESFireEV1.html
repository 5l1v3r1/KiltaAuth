<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sat Nov 16 21:37:25 EET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DESFireEV1</title>
<meta name="date" content="2013-11-16">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DESFireEV1";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DESFireEV1.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../nfcjlib/core/DESFireEV1.Command.html" title="enum in nfcjlib.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nfcjlib/core/DESFireEV1.html" target="_top">Frames</a></li>
<li><a href="DESFireEV1.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nfcjlib.core</div>
<h2 title="Class DESFireEV1" class="title">Class DESFireEV1</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../nfcjlib/core/SimpleSCR.html" title="class in nfcjlib.core">nfcjlib.core.SimpleSCR</a></li>
<li>
<ul class="inheritance">
<li>nfcjlib.core.DESFireEV1</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DESFireEV1</span>
extends <a href="../../nfcjlib/core/SimpleSCR.html" title="class in nfcjlib.core">SimpleSCR</a></pre>
<div class="block">Enables a client to interact with a MIFARE DESFire EV1 smart card.
 Not all 35 commands are implemented.
 Developed and tested using an MDF version 1.4.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.Command.html" title="enum in nfcjlib.core">DESFireEV1.Command</a></strong></code>
<div class="block">Command codes for APDUs sent from the PCD to the PICC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.FileType.html" title="enum in nfcjlib.core">DESFireEV1.FileType</a></strong></code>
<div class="block">File types of applications.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a></strong></code>
<div class="block">Ciphers supported by DESFire EV1.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.RawAuthentication.html" title="class in nfcjlib.core">DESFireEV1.RawAuthentication</a></strong></code>
<div class="block">Authentication done in two steps.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.Response.html" title="enum in nfcjlib.core">DESFireEV1.Response</a></strong></code>
<div class="block">Status and error codes.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#DESFireEV1()">DESFireEV1</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#abortTransaction()">abortTransaction</a></strong>()</code>
<div class="block">Invalidate all previous writes to value files, backup data files,
 linear records files and cyclic record files, within one application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#authenticate(byte[], byte, nfcjlib.core.DESFireEV1.KeyType)">authenticate</a></strong>(byte[]&nbsp;key,
            byte&nbsp;keyNo,
            <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;type)</code>
<div class="block">Mutual authentication between PCD and PICC.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#changeFileSettings(byte, byte, byte, byte)">changeFileSettings</a></strong>(byte&nbsp;fileNo,
                  byte&nbsp;commSett,
                  byte&nbsp;ar1,
                  byte&nbsp;ar2)</code>
<div class="block">Change the file settings of a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#changeKey(byte, byte, nfcjlib.core.DESFireEV1.KeyType, byte[], byte[])">changeKey</a></strong>(byte&nbsp;keyNo,
         byte&nbsp;keyVersion,
         <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;newType,
         byte[]&nbsp;newKey,
         byte[]&nbsp;oldKey)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#changeKey(byte, nfcjlib.core.DESFireEV1.KeyType, byte[], byte[])">changeKey</a></strong>(byte&nbsp;keyNo,
         <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;newType,
         byte[]&nbsp;newKey,
         byte[]&nbsp;oldKey)</code>
<div class="block">Change any key stored on the PICC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#changeKeySettings(byte)">changeKeySettings</a></strong>(byte&nbsp;keySett)</code>
<div class="block">Change the master key settings or the application master key settings,
 depending on the selected AID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#clearRecordFile(byte)">clearRecordFile</a></strong>(byte&nbsp;fileNo)</code>
<div class="block">Reset a cyclic record file or a linear record file to empty state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction</a></strong>()</code>
<div class="block">Validate all previous writes to value files, backup data files,
 linear records files and cyclic record files, within one application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createApplication(byte[], byte, byte)">createApplication</a></strong>(byte[]&nbsp;aid,
                 byte&nbsp;amks,
                 byte&nbsp;nok)</code>
<div class="block">Create a new application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createBackupDataFile(byte[])">createBackupDataFile</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Create a file for the storage of unformatted user data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createCyclicRecordFile(byte[])">createCyclicRecordFile</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Create a file for storage of similar structural data
 (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createLinearRecordFile(byte[])">createLinearRecordFile</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Create a file for storage of similar structural data
 (e.g.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createStdDataFile(byte[])">createStdDataFile</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Create a file for the storage of unformatted user data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#createValueFile(byte[])">createValueFile</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Create a value file, used for the storage and
 manipulation of a 32-bit signed integer value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#credit(byte, int)">credit</a></strong>(byte&nbsp;fileNo,
      int&nbsp;value)</code>
<div class="block">Increase a value stored in a value file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#debit(byte, int)">debit</a></strong>(byte&nbsp;fileNo,
     int&nbsp;value)</code>
<div class="block">Decrease a value stored in a value file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#deleteApplication(byte[])">deleteApplication</a></strong>(byte[]&nbsp;aid)</code>
<div class="block">Delete an application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#deleteFile(byte)">deleteFile</a></strong>(byte&nbsp;fileNo)</code>
<div class="block">Permanently deactivate a file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#disconnect()">disconnect</a></strong>()</code>
<div class="block">Disconnect the connection with the card.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#findKeyVersion(byte[])">findKeyVersion</a></strong>(byte[]&nbsp;aKey)</code>
<div class="block">Given a Triple DES key, finds out the version.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#formatPICC()">formatPICC</a></strong>()</code>
<div class="block">Release the allocated user memory on the PICC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#freeMemory()">freeMemory</a></strong>()</code>
<div class="block">The free memory available on the card.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getApplicationsIds()">getApplicationsIds</a></strong>()</code>
<div class="block">Get the application identifiers of all the active applications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getCardUID()">getCardUID</a></strong>()</code>
<div class="block">Get the card UID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getCode()">getCode</a></strong>()</code>
<div class="block">Get the status code of the response of the previous command sent to the PICC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getCodeDesc()">getCodeDesc</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getDFNames()">getDFNames</a></strong>()</code>
<div class="block">????? TODO (variable result? ciphered?)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getFileIds()">getFileIds</a></strong>()</code>
<div class="block">Get the file identifiers of all the active files within the
 currently selected application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getFileSettings(int)">getFileSettings</a></strong>(int&nbsp;fileNo)</code>
<div class="block">Get information on the properties of a specific file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getKeySettings()">getKeySettings</a></strong>()</code>
<div class="block">Get information about the settings of keys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getKeyVersion(byte)">getKeyVersion</a></strong>(byte&nbsp;keyNo)</code>
<div class="block">Read the current version of a key stored in the PICC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getValue(byte)">getValue</a></strong>(byte&nbsp;fileNo)</code>
<div class="block">Read the currently stored value, from
 value file number <code>fileNo</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">Get manufacturing related data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#isKey3DES(byte[])">isKey3DES</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Checks whether a 16-byte key is a 3DES key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#limitedCredit(byte, int)">limitedCredit</a></strong>(byte&nbsp;fileNo,
             int&nbsp;value)</code>
<div class="block">Allows a limited increase of a value stored in a value file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#parseGetVersion(byte[])">parseGetVersion</a></strong>(byte[]&nbsp;getVersion)</code>
<div class="block">Parse the output of <a href="../../nfcjlib/core/DESFireEV1.html#getVersion()">getVersion()</a> into a human-readable form.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#readData(byte[])">readData</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Read data from standard data files or backup data files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#readRecords(byte[])">readRecords</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Reads a set of complete records from a linear record file or
 from a cyclic record file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#selectApplication(byte[])">selectApplication</a></strong>(byte[]&nbsp;aid)</code>
<div class="block">Select the PICC or a specific application for further access.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#validateKey(byte[], nfcjlib.core.DESFireEV1.KeyType)">validateKey</a></strong>(byte[]&nbsp;key,
           <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;type)</code>
<div class="block">Validates a key according with its type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#writeData(byte[])">writeData</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Write data to standard data files or backup data files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../nfcjlib/core/DESFireEV1.html#writeRecord(byte[])">writeRecord</a></strong>(byte[]&nbsp;payload)</code>
<div class="block">Write data to a record in linear record files or cyclic record files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_nfcjlib.core.SimpleSCR">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;nfcjlib.core.<a href="../../nfcjlib/core/SimpleSCR.html" title="class in nfcjlib.core">SimpleSCR</a></h3>
<code><a href="../../nfcjlib/core/SimpleSCR.html#connect()">connect</a>, <a href="../../nfcjlib/core/SimpleSCR.html#transmit(byte[])">transmit</a>, <a href="../../nfcjlib/core/SimpleSCR.html#transmit(javax.smartcardio.CommandAPDU)">transmit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DESFireEV1()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DESFireEV1</h4>
<pre>public&nbsp;DESFireEV1()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="disconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;boolean&nbsp;disconnect()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../nfcjlib/core/SimpleSCR.html#disconnect()">SimpleSCR</a></code></strong></div>
<div class="block">Disconnect the connection with the card.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../nfcjlib/core/SimpleSCR.html#disconnect()">disconnect</a></code>&nbsp;in class&nbsp;<code><a href="../../nfcjlib/core/SimpleSCR.html" title="class in nfcjlib.core">SimpleSCR</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success</dd></dl>
</li>
</ul>
<a name="authenticate(byte[], byte, nfcjlib.core.DESFireEV1.KeyType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticate</h4>
<pre>public&nbsp;byte[]&nbsp;authenticate(byte[]&nbsp;key,
                  byte&nbsp;keyNo,
                  <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;type)</pre>
<div class="block">Mutual authentication between PCD and PICC.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the secret key (8 bytes for DES, 16 bytes for 3DES/AES and
                                24 bytes for 3K3DES)</dd><dd><code>keyNo</code> - the key number</dd><dd><code>type</code> - the cipher</dd>
<dt><span class="strong">Returns:</span></dt><dd>the session key on success, <code>null</code> otherwise</dd></dl>
</li>
</ul>
<a name="changeKeySettings(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeKeySettings</h4>
<pre>public&nbsp;boolean&nbsp;changeKeySettings(byte&nbsp;keySett)</pre>
<div class="block">Change the master key settings or the application master key settings,
 depending on the selected AID.
 <p>
 Requires a preceding authentication.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keySett</code> - the new key settings</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="changeKey(byte, nfcjlib.core.DESFireEV1.KeyType, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeKey</h4>
<pre>public&nbsp;boolean&nbsp;changeKey(byte&nbsp;keyNo,
                <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;newType,
                byte[]&nbsp;newKey,
                byte[]&nbsp;oldKey)</pre>
<div class="block">Change any key stored on the PICC. The version will be set to zero.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keyNo</code> - the number of the key to be changed</dd><dd><code>newType</code> - the type of the new key</dd><dd><code>newKey</code> - the new key (8-bytes for DES,
                                        16-bytes for 2K3DES/AES, 24-bytes 3K3DES)</dd><dd><code>oldKey</code> - the old key (only required if the the key being
                                        changed is different from the authenticated key; can be
                                        set to <code>null</code> if both keys are the same)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the APDU received from the PICC</dd></dl>
</li>
</ul>
<a name="changeKey(byte, byte, nfcjlib.core.DESFireEV1.KeyType, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeKey</h4>
<pre>public&nbsp;boolean&nbsp;changeKey(byte&nbsp;keyNo,
                byte&nbsp;keyVersion,
                <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;newType,
                byte[]&nbsp;newKey,
                byte[]&nbsp;oldKey)</pre>
</li>
</ul>
<a name="getKeyVersion(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyVersion</h4>
<pre>public&nbsp;byte&nbsp;getKeyVersion(byte&nbsp;keyNo)</pre>
<div class="block">Read the current version of a key stored in the PICC.
 <p>
 Note that the key version should be set when changing a key
 since this command will allow to see the parity bits of the
 DES/3DES keys. It can be set to a default value.
 <p>
 To change the version of a key the #changeKey() command
 should be used.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keyNo</code> - the key number</dd>
<dt><span class="strong">Returns:</span></dt><dd>the 1-byte version of the key</dd></dl>
</li>
</ul>
<a name="createApplication(byte[], byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createApplication</h4>
<pre>public&nbsp;boolean&nbsp;createApplication(byte[]&nbsp;aid,
                        byte&nbsp;amks,
                        byte&nbsp;nok)</pre>
<div class="block">Create a new application.
 Requires the PICC-level AID to be selected (00 00 00).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aid</code> - 3-byte AID</dd><dd><code>amks</code> - application master key settings</dd><dd><code>nok</code> - number of keys (concatenated with 0x40 or 0x80 for 3K3DES and AES respectively)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="deleteApplication(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteApplication</h4>
<pre>public&nbsp;boolean&nbsp;deleteApplication(byte[]&nbsp;aid)</pre>
<div class="block">Delete an application.
 Depending on the PICC master key settings, an authentication is required
 either with the PICC master key or with the application master key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aid</code> - the 3-byte AID of the application to delete</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="getApplicationsIds()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApplicationsIds</h4>
<pre>public&nbsp;byte[]&nbsp;getApplicationsIds()</pre>
<div class="block">Get the application identifiers of all the active applications.
 Each AID is 3 bytes. The PICC-level AID must be currently selected.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the byte array with the AIDs, or <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="freeMemory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeMemory</h4>
<pre>public&nbsp;byte[]&nbsp;freeMemory()</pre>
<div class="block">The free memory available on the card.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>3 bytes LSB on success, or <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="getDFNames()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDFNames</h4>
<pre>public&nbsp;byte[]&nbsp;getDFNames()</pre>
<div class="block">????? TODO (variable result? ciphered?)</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getKeySettings()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySettings</h4>
<pre>public&nbsp;byte[]&nbsp;getKeySettings()</pre>
<div class="block">Get information about the settings of keys.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>2-byte array (key-settings||max-keys),
                        or <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="selectApplication(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectApplication</h4>
<pre>public&nbsp;boolean&nbsp;selectApplication(byte[]&nbsp;aid)</pre>
<div class="block">Select the PICC or a specific application for further access.
 The authentication state is lost.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aid</code> - the 3-byte AID</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="formatPICC()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatPICC</h4>
<pre>public&nbsp;boolean&nbsp;formatPICC()</pre>
<div class="block">Release the allocated user memory on the PICC. This will delete all
 the applications and respective files. The PICC master key and
 the PICC master key settings are kept.
 
 <p>A previous authentication with the PICC master key is required.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;byte[]&nbsp;getVersion()</pre>
<div class="block">Get manufacturing related data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the data on success, <code>null</code> otherwise</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../nfcjlib/core/DESFireEV1.html#parseGetVersion(byte[])"><code>parseGetVersion(byte[])</code></a></dd></dl>
</li>
</ul>
<a name="getCardUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCardUID</h4>
<pre>public&nbsp;byte[]&nbsp;getCardUID()</pre>
<div class="block">Get the card UID.
 <p>
 Requires a previous authentication.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the card UID on success, <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="getFileIds()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileIds</h4>
<pre>public&nbsp;byte[]&nbsp;getFileIds()</pre>
<div class="block">Get the file identifiers of all the active files within the
 currently selected application.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the identifiers of files, or <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="getFileSettings(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileSettings</h4>
<pre>public&nbsp;byte[]&nbsp;getFileSettings(int&nbsp;fileNo)</pre>
<div class="block">Get information on the properties of a specific file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the file number</dd>
<dt><span class="strong">Returns:</span></dt><dd>the properties of the file on success, <code>null</code> otherwise</dd></dl>
</li>
</ul>
<a name="changeFileSettings(byte, byte, byte, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeFileSettings</h4>
<pre>public&nbsp;boolean&nbsp;changeFileSettings(byte&nbsp;fileNo,
                         byte&nbsp;commSett,
                         byte&nbsp;ar1,
                         byte&nbsp;ar2)</pre>
<div class="block">Change the file settings of a file.
 <p>
 Requires a preceding authentication with the CAR key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the file number</dd><dd><code>commSett</code> - the communication settings for this file (0/1/3)</dd><dd><code>ar1</code> - access rights: RW/CAR</dd><dd><code>ar2</code> - access rights: R/W</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="createStdDataFile(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createStdDataFile</h4>
<pre>public&nbsp;boolean&nbsp;createStdDataFile(byte[]&nbsp;payload)</pre>
<div class="block">Create a file for the storage of unformatted user data.
 Memory is allocated in multiples of 32 bytes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - 7-byte array, with the following content:
                                        <br>file number (1 byte),
                                        <br>communication settings (1 byte),
                                        <br>access rights (2 bytes),
                                        <br>file size (3 bytes)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="createBackupDataFile(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBackupDataFile</h4>
<pre>public&nbsp;boolean&nbsp;createBackupDataFile(byte[]&nbsp;payload)</pre>
<div class="block">Create a file for the storage of unformatted user data.
 <p>
 Supports an integrated backup mechanism. Consumes double the
 memory in comparison to <a href="../../nfcjlib/core/DESFireEV1.html#createStdDataFile(byte[])">createStdDataFile(byte[])</a>.
 Requires a <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a> to validate writes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - 7-byte array, with the following content:
                                        <br>file number (1 byte),
                                        <br>communication settings (1 byte),
                                        <br>access rights (2 bytes),
                                        <br>file size (3 bytes)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="createValueFile(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createValueFile</h4>
<pre>public&nbsp;boolean&nbsp;createValueFile(byte[]&nbsp;payload)</pre>
<div class="block">Create a value file, used for the storage and
 manipulation of a 32-bit signed integer value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - 17-byte byte array, with the following contents:
                                        <br>file number (1 byte),
                                        <br>communication settings (1 byte),
                                        <br>access rights (2 bytes),
                                        <br>lower limit (4 bytes),
                                        <br>upper limit (4 bytes),
                                        <br>value (4 bytes),
                                        <br>limited credit enabled (1 byte)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="createLinearRecordFile(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLinearRecordFile</h4>
<pre>public&nbsp;boolean&nbsp;createLinearRecordFile(byte[]&nbsp;payload)</pre>
<div class="block">Create a file for storage of similar structural data
 (e.g. loyalty programs). Once the file is completely full
 with data records, it cannot be written to unless it is cleared.
 The file size is single record size * maximum number of records.
 <p>
 Linear record files include a backup mechanism and
 require validation using <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - 10-byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>communication settings (1 byte),
                                        <br>access rights (2 bytes: RW||CAR||R||W),
                                        <br>size of a single record size (3 bytes LSB),
                                        <br>maximum amount of records (3 bytes LSB)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="createCyclicRecordFile(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCyclicRecordFile</h4>
<pre>public&nbsp;boolean&nbsp;createCyclicRecordFile(byte[]&nbsp;payload)</pre>
<div class="block">Create a file for storage of similar structural data
 (e.g. logging transactions). Once the file is completely full
 with data records, the PICC automatically overwrites the oldest entry.
 The file size is single record size * maximum number of records.
 <p>
 Linear record files include a backup mechanism and
 require validation using <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a>.
 The backup mechanism consumes one of the records, which
 cannot be used to store data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - 10-byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>communication settings (1 byte),
                                        <br>access rights (2 bytes: RW||CAR||R||W),
                                        <br>size of a single record size (3 bytes LSB),
                                        <br>maximum amount of records (3 bytes LSB)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="deleteFile(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFile</h4>
<pre>public&nbsp;boolean&nbsp;deleteFile(byte&nbsp;fileNo)</pre>
<div class="block">Permanently deactivate a file. The file number can be reused but
 the allocated memory will remain occupied.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success</dd></dl>
</li>
</ul>
<a name="readData(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readData</h4>
<pre>public&nbsp;byte[]&nbsp;readData(byte[]&nbsp;payload)</pre>
<div class="block">Read data from standard data files or backup data files.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - a byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>offset within the file being read (3 bytes LSB),
                                        <br>length of the data to read (3 byte LSB)
                                        When the length of the data being read is 0x000000,
                                        the entire file is read, starting from offset.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false otherwise</code></dd></dl>
</li>
</ul>
<a name="writeData(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeData</h4>
<pre>public&nbsp;boolean&nbsp;writeData(byte[]&nbsp;payload)</pre>
<div class="block">Write data to standard data files or backup data files.
 <p>
 When writing to backup data files, a <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a>
 is required to validate the changes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - a byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>offset within the file being written (3 bytes LSB),
                                        <br>length of the data (3 byte LSB),
                                        <br>the data (1+ bytes)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false otherwise</code></dd></dl>
</li>
</ul>
<a name="getValue(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;getValue(byte&nbsp;fileNo)</pre>
<div class="block">Read the currently stored value, from
 value file number <code>fileNo</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the file number</dd>
<dt><span class="strong">Returns:</span></dt><dd>the stored value, or <code>null</code> on error</dd></dl>
</li>
</ul>
<a name="credit(byte, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>credit</h4>
<pre>public&nbsp;boolean&nbsp;credit(byte&nbsp;fileNo,
             int&nbsp;value)</pre>
<div class="block">Increase a value stored in a value file.
 A preceding authentication with the read&write access key is required.
 The stored value will not be updated until a commit transaction
 command is issued.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the number of the file</dd><dd><code>value</code> - the amount to increase</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="debit(byte, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>debit</h4>
<pre>public&nbsp;boolean&nbsp;debit(byte&nbsp;fileNo,
            int&nbsp;value)</pre>
<div class="block">Decrease a value stored in a value file.
 The value will not be updated on the card until a
 commit transaction command is issued.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the number of the file</dd><dd><code>value</code> - the amount to decrease</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="limitedCredit(byte, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limitedCredit</h4>
<pre>public&nbsp;boolean&nbsp;limitedCredit(byte&nbsp;fileNo,
                    int&nbsp;value)</pre>
<div class="block">Allows a limited increase of a value stored in a value file.
 It is necessary to validate the transaction with a
 <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a>.
 <p>
 This can only be performed after a transaction where at least
 one debit action took place. The sum of the debits is the maximum
 value that can be increased.
 <p>
 Requires R or RW access.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the number of the file</dd><dd><code>value</code> - the amount to increase</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="writeRecord(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRecord</h4>
<pre>public&nbsp;boolean&nbsp;writeRecord(byte[]&nbsp;payload)</pre>
<div class="block">Write data to a record in linear record files or cyclic record files.
 <p>
 Requires a preceding authentication with the
 W or with the RW access key. After writing a record, a
 <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()">commitTransaction()</a> is required to validate the write.
 Multiples writes are done to the same record until the
 operations are validated.
 <p>
 If a <a href="../../nfcjlib/core/DESFireEV1.html#clearRecordFile(byte)">clearRecordFile(byte)</a> command is issued,
 it must be validated or invalidated before attempting to write or
 the write will fail.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - a byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>offset within the record (3 bytes LSB),
                                        <br>length of the data to be written (3 bytes LSB),
                                        <br>the data (1+ bytes)</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false otherwise</code></dd></dl>
</li>
</ul>
<a name="readRecords(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRecords</h4>
<pre>public&nbsp;byte[]&nbsp;readRecords(byte[]&nbsp;payload)</pre>
<div class="block">Reads a set of complete records from a linear record file or
 from a cyclic record file. Records are read in chronological order,
 from the oldest to the newest.
 <p>
 A read will fail when performed on an empty record file or after a
 <a href="../../nfcjlib/core/DESFireEV1.html#clearRecordFile(byte)">clearRecordFile(byte)</a> yet to be validated/invalidated.
 A read fails unless there is data to be returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>payload</code> - a byte array with the following contents:
                                        <br>file number (1 byte),
                                        <br>offset starting from the most recent record (3 bytes LSB),
                                        <br>number of records to be read (3 byte LSB)
                                        When the length of the data being read is 0x000000,
                                        the entire file is read, starting from offset.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false otherwise</code></dd></dl>
</li>
</ul>
<a name="clearRecordFile(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRecordFile</h4>
<pre>public&nbsp;boolean&nbsp;clearRecordFile(byte&nbsp;fileNo)</pre>
<div class="block">Reset a cyclic record file or a linear record file to empty state.
 
 <p>Requires full read-write permission and a
 subsequent <a href="../../nfcjlib/core/DESFireEV1.html#commitTransaction()"><code>commitTransaction()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNo</code> - the file number</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="commitTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>public&nbsp;boolean&nbsp;commitTransaction()</pre>
<div class="block">Validate all previous writes to value files, backup data files,
 linear records files and cyclic record files, within one application.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success</dd></dl>
</li>
</ul>
<a name="abortTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre>public&nbsp;boolean&nbsp;abortTransaction()</pre>
<div class="block">Invalidate all previous writes to value files, backup data files,
 linear records files and cyclic record files, within one application.
 It may also be used after a clear record file to
 invalidate the clearance.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="getCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCode</h4>
<pre>public&nbsp;int&nbsp;getCode()</pre>
<div class="block">Get the status code of the response of the previous command sent to the PICC.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the status code of the response</dd></dl>
</li>
</ul>
<a name="getCodeDesc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCodeDesc</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCodeDesc()</pre>
</li>
</ul>
<a name="findKeyVersion(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findKeyVersion</h4>
<pre>public&nbsp;byte&nbsp;findKeyVersion(byte[]&nbsp;aKey)</pre>
<div class="block">Given a Triple DES key, finds out the version.
 The key version is based on the parity bits taken from the
 first 8 bytes of the key.
 <p>
 [a,x,x,x,x,x,x,x,b]: byte a contains MSBit and byte b contains LSBit.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aKey</code> - the key (8/16/24 bytes)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the key version based on parity bits</dd></dl>
</li>
</ul>
<a name="isKey3DES(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKey3DES</h4>
<pre>public static&nbsp;boolean&nbsp;isKey3DES(byte[]&nbsp;key)</pre>
<div class="block">Checks whether a 16-byte key is a 3DES key.
 <p>
 Some 3DES keys may actually be DES keys because the LSBit of
 each byte is used for key versioning by MDF. A 16-byte key is
 also a DES key if the first half of the key is equal to the second.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the 16-byte 3DES key to check</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the key is a 3DES key</dd></dl>
</li>
</ul>
<a name="validateKey(byte[], nfcjlib.core.DESFireEV1.KeyType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateKey</h4>
<pre>public static&nbsp;boolean&nbsp;validateKey(byte[]&nbsp;key,
                  <a href="../../nfcjlib/core/DESFireEV1.KeyType.html" title="enum in nfcjlib.core">DESFireEV1.KeyType</a>&nbsp;type)</pre>
<div class="block">Validates a key according with its type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the key</dd><dd><code>type</code> - the type</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the key matches the type,
                                <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="parseGetVersion(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseGetVersion</h4>
<pre>public static&nbsp;java.lang.String&nbsp;parseGetVersion(byte[]&nbsp;getVersion)</pre>
<div class="block">Parse the output of <a href="../../nfcjlib/core/DESFireEV1.html#getVersion()">getVersion()</a> into a human-readable form.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>getVersion</code> - the output of <a href="../../nfcjlib/core/DESFireEV1.html#getVersion()">getVersion()</a> (<code>&lt;&gt; null</code>)</dd>
<dt><span class="strong">Returns:</span></dt><dd>human-readable form of <a href="../../nfcjlib/core/DESFireEV1.html#getVersion()">getVersion()</a></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DESFireEV1.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../nfcjlib/core/DESFireEV1.Command.html" title="enum in nfcjlib.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nfcjlib/core/DESFireEV1.html" target="_top">Frames</a></li>
<li><a href="DESFireEV1.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
